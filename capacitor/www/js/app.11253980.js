(function(t){function a(a){for(var r,o,n=a[0],l=a[1],c=a[2],d=0,m=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(a);while(m.length)m.shift()();return s.push.apply(s,c||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],r=!0,n=1;n<e.length;n++){var l=e[n];0!==i[l]&&(r=!1)}r&&(s.splice(a--,1),t=o(o.s=e[0]))}return t}var r={},i={app:0},s=[];function o(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=r,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)o.d(e,r,function(a){return t[a]}.bind(null,r));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=a,n=n.slice();for(var c=0;c<n.length;c++)a(n[c]);var u=l;s.push([1,"chunk-vendors"]),e()})({0:function(t,a){},"0307":function(t,a,e){"use strict";e("e31f")},"09bd":function(t,a,e){"use strict";e("df51")},1:function(t,a,e){t.exports=e("56d7")},1188:function(t,a,e){},"14af":function(t,a,e){"use strict";e("d063")},"1fe7":function(t,a,e){},2:function(t,a){},2718:function(t,a,e){"use strict";e("60ce")},"27b0":function(t,a,e){},"2a08":function(t,a,e){},"2a18":function(t,a,e){"use strict";e("f5e0")},3:function(t,a){},"3d9b":function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a),e.d(a,"db",(function(){return Ta})),e.d(a,"storage",(function(){return La}));var r=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("router-view")},s=[],o=e("2877"),n={},l=Object(o["a"])(n,i,s,!1,null,null,null),c=l.exports,u=e("58ca"),d=e("f309");r["a"].use(d["a"]);var m=new d["a"]({}),p=e("8c4f"),h=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",{attrs:{id:"app"}},[e("v-main",[e("router-view")],1)],1)},v=[],g=e("2f62"),f={name:"AppLayout",data(){return{drawer:null}},computed:{...Object(g["b"])({identity:"auth/identity",titleHierarchy:"auth/titleHierarchy"})},async mounted(){},methods:{}},b=f,k=e("6544"),y=e.n(k),w=e("7496"),C=e("f6c4"),x=Object(o["a"])(b,h,v,!1,null,null,null),_=x.exports;y()(x,{VApp:w["a"],VMain:C["a"]});var D=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"mb-5"},[e("v-app-bar",{staticClass:"indigo",attrs:{app:"",dark:""}},[e("v-card-title",{staticClass:"headline"},[e("img",{staticClass:"logo-small",attrs:{src:"/favicon.ico",alt:"Logo"}}),t._v(" Dovepin ")]),e("v-toolbar-title",{staticClass:"ml-8 clickable",on:{click:t.navigateHome}},[t._v("Home")]),t.isAdmin?e("v-toolbar-title",{staticClass:"ml-8 clickable",on:{click:t.navigateDashboard}},[t._v("Dashboard")]):t._e(),e("v-spacer"),e("v-btn",{staticClass:"mr-8",attrs:{color:"red",dark:""},on:{click:t.logout}},[t._v("Log Out")])],1),t.login?e("v-row",t._l(t.menus,(function(a){return e("v-col",{key:a.title,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[e("v-card",{staticClass:"menu-card",on:{click:function(e){return t.navigate(a.route)}}},[e("v-img",{staticClass:"menu-icon",attrs:{src:a.icon}}),e("v-card-title",{staticClass:"menu-title"},[t._v(t._s(a.title))])],1)],1)})),1):t._e(),t.login?t._e():e("v-row")],1)},T=[],L=e("3d20"),V=e.n(L),j={name:"Home",data(){return{login:!0,isAdmin:!1,menus:[{title:"Check In",icon:"/path/to/menu1-icon.png",route:"/checkin"},{title:"Check Out",icon:"/path/to/menu2-icon.png",route:"/checkout"},{title:"Cuti",icon:"/path/to/menu3-icon.png",route:"/cuti"},{title:"Profile",icon:"/path/to/menu4-icon.png",route:"/karyawan"}]}},methods:{navigate(t){this.$router.push(t)},navigateDashboard(){this.$router.push("/dashboard")},navigateHome(){this.$router.push("/home")},logout(){V.a.fire({title:"Konfirmasi",text:"Anda yakin ingin keluar?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Keluar",cancelButtonText:"Batal"}).then(t=>{t.isConfirmed&&(localStorage.clear(),this.$router.push("/login"))})}},created(){localStorage.role&&("Admin"===localStorage.role?this.isAdmin=!0:this.isAdmin=!1)}},K=j,E=(e("09bd"),e("40dc")),N=e("8336"),S=e("b0af"),U=e("99d9"),$=e("62ad"),O=e("a523"),A=e("adda"),R=e("0fd9"),B=e("2fa4"),P=e("2a7f"),I=Object(o["a"])(K,D,T,!1,null,"7da0b155",null),F=I.exports;y()(I,{VAppBar:E["a"],VBtn:N["a"],VCard:S["a"],VCardTitle:U["d"],VCol:$["a"],VContainer:O["a"],VImg:A["a"],VRow:R["a"],VSpacer:B["a"],VToolbarTitle:P["a"]});var M=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-form",{attrs:{name:"login-form"}},[e("v-container",[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{lg:"3",md:"4",sm:"6"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[e("img",{staticClass:"logo-small",attrs:{src:"/favicon.ico",alt:"Logo"}})]),e("v-card-subtitle",{staticClass:"title text-center"},[t._v("Login")]),e("v-card-text",[e("v-text-field",{attrs:{label:"E-mail"},model:{value:t.input.username,callback:function(a){t.$set(t.input,"username",a)},expression:"input.username"}}),e("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.input.password,callback:function(a){t.$set(t.input,"password",a)},expression:"input.password"}}),e("v-row",{attrs:{justify:"center"}},[e("v-btn",{staticClass:"mx-2 button-login",attrs:{color:"green",dark:""},on:{click:function(a){return a.preventDefault(),t.login.apply(null,arguments)}}},[t._v("Login")])],1),e("router-link",{staticClass:"register-link",attrs:{to:"Register"}},[t._v("Belum memiliki akun? Register")])],1)],1)],1)],1)],1)],1)],1)},J=[],H=e("2591"),q={name:"LoginView",data(){return{input:{username:"",password:""}}},methods:{...Object(g["c"])(["setUserRole"]),login(){""!==this.input.username&&""!==this.input.password?(console.log("authenticated"),H["a"].auth().signInWithEmailAndPassword(this.input.username,this.input.password).then(t=>{console.log("Successfully logged in!",t),this.showHomePage(),this.setRole()}).catch(t=>{console.log(t.code),V.a.fire({title:"Login Error",text:"Invalid email or password",icon:"error",confirmButtonText:"OK"})})):console.log("Username and Password cannot be empty")},showHomePage(){V.a.fire({title:"Login Success",icon:"success",timer:1e4,showConfirmButton:!1}).then(()=>{this.$router.push("/home")})},setRole(){console.log("masuk setRole");const t=H["a"].auth().currentUser;t&&(console.log(t.email),Ta.collection("registrations").where("email","==",t.email).get().then(t=>{t.forEach(t=>{const a=t.data();console.log(a),localStorage.setItem("role",a.jabatan)})}).catch(t=>{console.error("Error getting registrations:",t)}))}}},z=q,G=(e("b044"),e("4bd4")),W=e("8654"),Y=Object(o["a"])(z,M,J,!1,null,null,null),Z=Y.exports;y()(Y,{VBtn:N["a"],VCard:S["a"],VCardSubtitle:U["b"],VCardText:U["c"],VCardTitle:U["d"],VCol:$["a"],VContainer:O["a"],VForm:G["a"],VRow:R["a"],VTextField:W["a"]});var Q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:""}},[e("v-row",{attrs:{justify:"center"}},[e("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[e("v-card",{staticClass:"register-card"},[e("v-card-title",{staticClass:"headline"},[t._v("Register")]),e("v-card-text",[e("v-form",{on:{submit:function(a){return a.preventDefault(),t.register.apply(null,arguments)}}},[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:t.input.username,callback:function(a){t.$set(t.input,"username",a)},expression:"input.username"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Password",type:"password",required:""},model:{value:t.input.password,callback:function(a){t.$set(t.input,"password",a)},expression:"input.password"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Nama",required:""},model:{value:t.input.displayName,callback:function(a){t.$set(t.input,"displayName",a)},expression:"input.displayName"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-select",{attrs:{label:"Jenis Kelamin",items:["-- Pilih Jenis Kelamin --","Laki-Laki","Perempuan"],rules:t.jenisKelaminRules,required:""},model:{value:t.input.jenisKelamin,callback:function(a){t.$set(t.input,"jenisKelamin",a)},expression:"input.jenisKelamin"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Tanggal Lahir",type:"date",required:""},model:{value:t.input.tanggalLahir,callback:function(a){t.$set(t.input,"tanggalLahir",a)},expression:"input.tanggalLahir"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"No. Telp",required:""},model:{value:t.input.noTelp,callback:function(a){t.$set(t.input,"noTelp",a)},expression:"input.noTelp"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-select",{attrs:{label:"Jabatan",items:["-- Pilih Jabatan --","Admin","Tenaga Teknik"],rules:t.jabatanRules,required:""},model:{value:t.input.jabatan,callback:function(a){t.$set(t.input,"jabatan",a)},expression:"input.jabatan"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Alamat",required:""},model:{value:t.input.alamat,callback:function(a){t.$set(t.input,"alamat",a)},expression:"input.alamat"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-file-input",{attrs:{label:"Foto",accept:"image/*"},model:{value:t.input.foto,callback:function(a){t.$set(t.input,"foto",a)},expression:"input.foto"}})],1)],1),e("v-row",{staticClass:"text-center"},[e("v-col",{attrs:{cols:"12"}},[e("v-btn",{staticClass:"mx-2",attrs:{color:"red",dark:""},on:{click:t.cancel}},[t._v("Cancel")]),e("v-btn",{staticClass:"mx-2",attrs:{color:"primary",type:"submit"}},[t._v("Register")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},X=[],tt=e("260b"),at=(e("ea7b"),{name:"RegisterView",data(){return{input:{username:"",password:"",displayName:"",jenisKelamin:"",tanggalLahir:"",noTelp:"",jabatan:"",alamat:"",foto:null},jenisKelaminRules:[t=>!!t||"Jenis kelamin harus dipilih",t=>"-- Pilih Jenis Kelamin --"!==t||"Jenis kelamin harus dipilih"],jabatanRules:[t=>!!t||"Jabatan harus dipilih",t=>"-- Pilih Jabatan --"!==t||"Jabatan harus dipilih"]}},methods:{...Object(g["c"])(["setUserRole"]),async uploadFoto(t){try{const a=this.input.username,e=a+"_"+t.name,r=La.ref().child(e),i=await r.put(t),s=await i.ref.getDownloadURL();this.input.foto=s}catch(a){console.error("Error uploading photo:",a)}},async register(){if(this.input.username&&this.input.password&&this.input.displayName&&this.input.jenisKelamin&&this.input.tanggalLahir&&this.input.noTelp&&this.input.jabatan&&this.input.alamat&&this.input.foto)try{const{user:t}=await tt["a"].auth().createUserWithEmailAndPassword(this.input.username,this.input.password);await this.uploadFoto(this.input.foto);const a={username:this.input.username,password:this.input.password,displayName:this.input.displayName,jenisKelamin:this.input.jenisKelamin,tanggalLahir:this.input.tanggalLahir,noTelp:this.input.noTelp,jabatan:this.input.jabatan,alamat:this.input.alamat,foto:this.input.foto};await Ta.collection("registrations").add(a),await t.updateProfile({displayName:this.input.displayName.replace(/\s/g,"_")}),await this.setRoleBasedOnJabatan(this.input.jabatan),this.input={username:"",password:"",displayName:"",jenisKelamin:"",tanggalLahir:"",noTelp:"",jabatan:"",alamat:"",foto:null},V.a.fire({icon:"success",title:"Registration successful. Please login.",showConfirmButton:!1,timer:2e3}),this.$router.push("/login")}catch(t){console.error("Registration error:",t.code,t.message)}else V.a.fire("Please fill in all fields.")},async setRoleBasedOnJabatan(t){try{const a=this.input.username;"Admin"===t?(await Ta.collection("roles").doc(a).set({role:"admin"}),this.setUserRole("admin")):"Tenaga Teknik"===t&&(await Ta.collection("roles").doc(a).set({role:"teknik"}),this.setUserRole("teknik"))}catch(a){console.error("Error setting role:",a)}},cancel(){this.input={username:"",password:"",displayName:"",jenisKelamin:"",tanggalLahir:"",noTelp:"",jabatan:"",alamat:"",foto:null},this.$router.push("/login")}}}),et=at,rt=(e("951e"),e("23a7")),it=e("b974"),st=Object(o["a"])(et,Q,X,!1,null,"3a4dba18",null),ot=st.exports;y()(st,{VBtn:N["a"],VCard:S["a"],VCardText:U["c"],VCardTitle:U["d"],VCol:$["a"],VContainer:O["a"],VFileInput:rt["a"],VForm:G["a"],VRow:R["a"],VSelect:it["a"],VTextField:W["a"]});var nt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:""}},[e("v-app-bar",{staticClass:"indigo",attrs:{app:"",dark:""}},[e("v-card-title",{staticClass:"headline",staticStyle:{"text-align":"center"}},[e("v-btn",{attrs:{icon:""},on:{click:t.goBack}},[e("v-icon",[t._v("mdi-arrow-left")])],1),e("img",{staticClass:"logo-small",attrs:{src:"/favicon.ico",alt:"Logo"}}),e("h4",[t._v("PROFILE")])],1),e("v-spacer")],1),e("v-container",[e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("v-card-text",[e("v-row",{attrs:{justify:"center"}},[e("v-col",{attrs:{cols:"auto"}},[e("v-img",{staticClass:"profile-picture",attrs:{src:t.karyawanData.foto,alt:"Profile Picture"}})],1)],1)],1),e("v-card",{staticClass:"data-card"},[e("v-card-title",{staticClass:"headline"},[t._v("Profil Karyawan")]),e("v-card-text",[e("table",[e("tbody",[e("tr",[e("td",[t._v("Nama:")]),e("td",[t._v(t._s(t.karyawanData.displayName))])]),e("tr",[e("td",[t._v("Email:")]),e("td",[t._v(t._s(t.karyawanData.email))])]),e("tr",[e("td",[t._v("Jenis Kelamin:")]),e("td",[t._v(t._s(t.karyawanData.jenisKelamin))])]),e("tr",[e("td",[t._v("Tanggal Lahir:")]),e("td",[t._v(t._s(t.karyawanData.tanggalLahir))])]),e("tr",[e("td",[t._v("No. Telp:")]),e("td",[t._v(t._s(t.karyawanData.noTelp))])]),e("tr",[e("td",[t._v("Jabatan:")]),e("td",[t._v(t._s(t.karyawanData.jabatan))])]),e("tr",[e("td",[t._v("Alamat:")]),e("td",[t._v(t._s(t.karyawanData.alamat))])])])])])],1)],1)],1)],1)],1)},lt=[],ct={name:"KaryawanView",data(){return{karyawanData:null}},created(){const t=tt["a"].auth().currentUser;t?this.getKaryawanData(t.email):(console.error("User not logged in."),this.$router.push("/home"))},methods:{async getKaryawanData(t){try{const a=await Ta.collection("registrations").where("email","==",t).get();if(a.empty)V.a.fire({icon:"error",title:"Error",text:"Data pendaftaran karyawan tidak ditemukan"});else{const t=a.docs[0].data();this.karyawanData={displayName:t.displayName,email:t.email,jenisKelamin:t.jenisKelamin,tanggalLahir:t.tanggalLahir,noTelp:t.noTelp,jabatan:t.jabatan,alamat:t.alamat,foto:t.foto}}}catch(a){console.error("Error getting karyawan data:",a),V.a.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengambil data karyawan"})}},goBack(){this.$router.push("/home")}}},ut=ct,dt=(e("14af"),e("132d")),mt=Object(o["a"])(ut,nt,lt,!1,null,"23ed8a06",null),pt=mt.exports;y()(mt,{VAppBar:E["a"],VBtn:N["a"],VCard:S["a"],VCardText:U["c"],VCardTitle:U["d"],VCol:$["a"],VContainer:O["a"],VIcon:dt["a"],VImg:A["a"],VRow:R["a"],VSpacer:B["a"]});var ht=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:""}},[e("v-app-bar",{staticClass:"indigo",attrs:{app:"",dark:""}},[e("v-card-title",{staticClass:"headline"},[e("v-btn",{attrs:{icon:""},on:{click:t.goBack}},[e("v-icon",[t._v("mdi-arrow-left")])],1),e("img",{staticClass:"logo-small",attrs:{src:"/favicon.ico",alt:"Logo"}}),t._v(" Dovepin ")],1),e("v-spacer")],1),e("v-container",{staticClass:"content-container"},[e("v-card",{staticClass:"profile-card"},[e("v-card-text",[e("h1",[t._v(t._s(t.karyawanData.displayName))]),e("table",{staticClass:"profile-table"},[e("tr",[e("td",[t._v("Jenis Kelamin: "+t._s(t.karyawanData.jenisKelamin))])]),e("tr",[e("td",[t._v("Jabatan: "+t._s(t.karyawanData.jabatan))])])])])],1),e("v-card",{staticClass:"cuti-card"},[e("v-card-title",{staticClass:"headline"},[t._v("Permintaan Cuti")]),e("v-card-text",[e("v-form",{on:{submit:function(a){return a.preventDefault(),t.submitCutiForm.apply(null,arguments)}}},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"Tanggal Cuti",type:"date"},model:{value:t.tanggalCuti,callback:function(a){t.tanggalCuti=a},expression:"tanggalCuti"}})],1),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"Lama Cuti (hari)",type:"number"},model:{value:t.lamaCuti,callback:function(a){t.lamaCuti=a},expression:"lamaCuti"}})],1)],1),e("v-textarea",{attrs:{label:"Keterangan",rows:"3","auto-grow":""},model:{value:t.keterangan,callback:function(a){t.keterangan=a},expression:"keterangan"}}),e("v-select",{attrs:{label:"Status Cuti",items:["Menunggu"]},model:{value:t.statusCuti,callback:function(a){t.statusCuti=a},expression:"statusCuti"}}),e("div",{staticClass:"submit-container"},[e("v-btn",{attrs:{type:"submit",color:"primary"}},[t._v("Submit")])],1)],1)],1)],1)],1)],1)},vt=[],gt={name:"CutiView",data(){return{karyawanData:{displayName:"",jenisKelamin:"",jabatan:""},tanggalCuti:null,lamaCuti:null,keterangan:"",statusCuti:"Menunggu"}},created(){const t=tt["a"].auth().currentUser;t?this.getKaryawanData(t.email):(console.error("User not logged in."),this.$router.push("/home"))},methods:{async getKaryawanData(t){try{const a=await Ta.collection("registrations").where("email","==",t).get();if(a.empty)V.a.fire({icon:"error",title:"Error",text:"Data pendaftaran karyawan tidak ditemukan"});else{const t=a.docs[0].data();this.karyawanData={displayName:t.displayName,jenisKelamin:t.jenisKelamin,jabatan:t.jabatan,statusCuti:"Menunggu"}}}catch(a){console.error("Error getting karyawan data:",a),V.a.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengambil data karyawan"})}},submitCutiForm(){const t=tt["a"].auth().currentUser;if(t){const t={displayName:this.karyawanData.displayName,jenisKelamin:this.karyawanData.jenisKelamin,jabatan:this.karyawanData.jabatan,tanggalCuti:this.tanggalCuti,lamaCuti:this.lamaCuti,keterangan:this.keterangan,statusCuti:this.karyawanData.statusCuti};Ta.collection("cutis").add(t).then(()=>{V.a.fire({icon:"success",title:"Sukses",text:"Permintaan Cuti Berhasil Dikirim"}),this.tanggalCuti=null,this.lamaCuti=null,this.keterangan=""}).catch(t=>{V.a.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengirim permintaan cuti"}),console.error("Error submitting cuti:",t)})}else console.error("User not logged in."),this.$router.push("/home")},goBack(){this.$router.push("/home")}}},ft=gt,bt=(e("b573"),e("a844")),kt=Object(o["a"])(ft,ht,vt,!1,null,"6f84fc99",null),yt=kt.exports;y()(kt,{VAppBar:E["a"],VBtn:N["a"],VCard:S["a"],VCardText:U["c"],VCardTitle:U["d"],VCol:$["a"],VContainer:O["a"],VForm:G["a"],VIcon:dt["a"],VRow:R["a"],VSelect:it["a"],VSpacer:B["a"],VTextField:W["a"],VTextarea:bt["a"]});var wt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-app-bar",{staticClass:"indigo",attrs:{app:"",dark:""}},[e("v-btn",{attrs:{icon:""},on:{click:t.goBack}},[e("v-icon",[t._v("mdi-arrow-left")])],1),e("v-card-title",{staticClass:"headline"},[e("img",{staticClass:"logo-small",attrs:{src:"/favicon.ico",alt:"Logo"}}),t._v(" Dovepin ")])],1),e("v-container",{attrs:{fluid:""}},[e("v-card",{staticClass:"check-in-card"},[e("v-card-text",[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"6"}},[e("v-card",{staticClass:"menu-card"},[e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("h3",{staticClass:"menu-title"},[t._v("Date Time")]),e("div",{staticClass:"check-in-header"},[e("h1",[t._v(t._s(t.currentTime))]),e("h3",[t._v(t._s(t.formattedDate))])]),e("div",{staticClass:"check-in-user"},[e("h3",[t._v(t._s(t.userData&&t.userData.displayName))])])])],1)],1),e("v-card",{staticClass:"menu-card"},[e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"check-in-photo"},[t.photoDataUrl?e("div",{staticClass:"photo-preview"},[e("img",{attrs:{src:t.photoDataUrl,alt:"Preview"}}),e("p",[t._v(t._s(t.capturedFileName))])]):e("video",{ref:"videoElement",staticClass:"video-preview"}),t.photoDataUrl?t._e():e("v-btn",{attrs:{color:"error",dark:"",icon:""},on:{click:t.capturePhoto}},[e("v-icon",[t._v("mdi-camera")])],1)],1)])],1)],1),e("v-card",{staticClass:"menu-card"},[e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"check-in-location"},[e("h4",[t._v(t._s(t.currentLocation))]),e("div",{ref:"mapElement",staticClass:"map-element"})])])],1)],1),e("v-card",{staticClass:"menu-card"},[e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"check-in-actions"},[e("v-btn",{attrs:{color:"success"},on:{click:t.submitCheckIn}},[t._v("Submit Check In")])],1)])],1)],1)],1)],1)],1)],1)],1)],1)},Ct=[],xt=e("e11e"),_t=e.n(xt);e("6cc5");delete _t.a.Icon.Default.prototype._getIconUrl,_t.a.Icon.Default.mergeOptions({iconRetinaUrl:e("584d"),iconUrl:e("6397"),shadowUrl:e("e2b9")});var Dt={name:"CheckIn",data(){return{userData:null,formattedDate:"",currentTime:"",currentLocation:"",photoDataUrl:null,capturedFileName:""}},async created(){const t=tt["a"].auth().currentUser;t?(await this.setUserData(),this.getCurrentDateTime(),this.getCurrentLocation()):(console.error("User not logged in."),this.$router.push("/home"))},methods:{goBack(){this.$router.push("/home")},async setUserData(){const t=tt["a"].auth().currentUser;if(t){const a=await Ta.collection("registrations").where("email","==",t.email).get();if(a.empty)console.error("User data not found.");else{const t=a.docs[0].data();this.userData=t}}else console.error("User not logged in."),this.$router.push("/login")},getCurrentDateTime(){const t=new Date;this.formattedDate=t.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),this.currentTime=t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},getCurrentLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{const a=t.coords.latitude,e=t.coords.longitude;this.currentLocation=`Latitude: ${a}, Longitude: ${e}`,this.showMap(a,e)},t=>{console.error("Error getting current location:",t)}):console.error("Geolocation is not supported by this browser.")},capturePhoto(){navigator.mediaDevices.getUserMedia({video:!0}).then(t=>{const a=this.$refs.videoElement;a.srcObject=t,a.onloadedmetadata=()=>{a.play()};const e=t.getVideoTracks()[0],r=new ImageCapture(e),i=document.createElement("button");i.textContent="Take Photo",i.id="btn-photo",i.style.cssText="display: inline-block;padding: 10px 20px;border-radius: 20px;background-color: #3f51b5;color: white;text-decoration: none;margin: 10px;",i.addEventListener("click",async()=>{try{const t=await r.takePhoto();this.handleCapturedPhoto(t)}catch(t){console.error("Error capturing photo:",t),V.a.fire({icon:"error",title:"Error",text:"An error occurred while capturing the photo"})}}),a.insertAdjacentElement("afterend",i)}).catch(t=>{console.error("Error accessing camera:",t)})},handleCapturedPhoto(t){const a=URL.createObjectURL(t);this.photoDataUrl=a,this.capturedFileName=`captured_${Date.now()}.jpg`},uploadPhoto(t,a){const e=tt["a"].auth().currentUser,r=La.ref(),i=r.child(`check-in-photos/${e.uid}/${a}`),s={contentType:"image/jpeg"};fetch(t).then(t=>t.blob()).then(t=>{i.put(t,s).then(t=>{t.ref.getDownloadURL().then(t=>{console.log(t)})}).catch(t=>{console.error("Error uploading photo:",t),V.a.fire({icon:"error",title:"Error",text:"An error occurred while uploading the photo"})})}).catch(t=>{console.error("Error converting data URL to blob:",t)})},submitCheckIn(){const t=tt["a"].auth().currentUser;if(t&&this.userData&&this.userData.displayName){const t={displayName:this.userData.displayName,fileName:this.capturedFileName,location:this.currentLocation,timestamp:tt["a"].firestore.Timestamp.now()};Ta.collection("check-ins").add(t).then(()=>{this.photoDataUrl&&this.uploadPhoto(this.photoDataUrl,this.capturedFileName),V.a.fire({icon:"success",title:"Success",text:"Check-in submitted successfully"}).then(()=>{this.goBack()})}).catch(t=>{console.error("Error submitting check-in:",t),V.a.fire({icon:"error",title:"Error",text:"Failed to submit check-in"})})}else console.error("User data is missing or incomplete."),V.a.fire({icon:"error",title:"Error",text:"Failed to submit check-in: User data is missing or incomplete"})},showMap(t,a){const e=this.$refs.mapElement,r=_t.a.map(e).setView([t,a],13);_t.a.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(r),_t.a.marker([t,a]).addTo(r).bindPopup("Lokasi Check In").openPopup()}}},Tt=Dt,Lt=(e("2a18"),Object(o["a"])(Tt,wt,Ct,!1,null,"1f949e18",null)),Vt=Lt.exports;y()(Lt,{VAppBar:E["a"],VBtn:N["a"],VCard:S["a"],VCardText:U["c"],VCardTitle:U["d"],VCol:$["a"],VContainer:O["a"],VIcon:dt["a"],VRow:R["a"]});var jt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-app-bar",{staticClass:"indigo",attrs:{app:"",dark:""}},[e("v-btn",{attrs:{icon:""},on:{click:t.goBack}},[e("v-icon",[t._v("mdi-arrow-left")])],1),e("v-card-title",{staticClass:"headline"},[e("img",{staticClass:"logo-small",attrs:{src:"/favicon.ico",alt:"Logo"}}),t._v(" Dovepin ")])],1),e("v-container",{attrs:{fluid:""}},[e("v-card",{staticClass:"check-out-card"},[e("v-card-text",[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"6"}},[e("v-card",{staticClass:"menu-card"},[e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("h3",{staticClass:"menu-title"},[t._v("Date Time")]),e("div",{staticClass:"check-out-header"},[e("h1",[t._v(t._s(t.currentTime))]),e("h3",[t._v(t._s(t.formattedDate))])]),e("div",{staticClass:"check-out-user"},[e("h3",[t._v(t._s(t.userData&&t.userData.displayName))])])])],1)],1),e("v-card",{staticClass:"menu-card"},[e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"check-out-photo"},[t.photoDataUrl?e("div",{staticClass:"photo-preview"},[e("img",{attrs:{src:t.photoDataUrl,alt:"Preview"}}),e("p",[t._v(t._s(t.capturedFileName))])]):e("video",{ref:"videoElement",staticClass:"video-preview"}),t.photoDataUrl?t._e():e("v-btn",{attrs:{color:"error",dark:"",icon:""},on:{click:t.capturePhoto}},[e("v-icon",[t._v("mdi-camera")])],1)],1)])],1)],1),e("v-card",{staticClass:"menu-card"},[e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"check-out-location"},[e("h4",[t._v(t._s(t.currentLocation))]),e("div",{ref:"mapElement",staticClass:"map-element"})])])],1)],1),e("v-card",{staticClass:"menu-card"},[e("v-row",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"check-out-actions"},[e("v-btn",{attrs:{color:"success"},on:{click:t.submitCheckOut}},[t._v("Submit Check Out")])],1)])],1)],1)],1)],1)],1)],1)],1)],1)},Kt=[];delete _t.a.Icon.Default.prototype._getIconUrl,_t.a.Icon.Default.mergeOptions({iconRetinaUrl:e("584d"),iconUrl:e("6397"),shadowUrl:e("e2b9")});var Et={name:"CheckOut",data(){return{userData:null,formattedDate:"",currentTime:"",currentLocation:"",photoDataUrl:null,capturedFileName:""}},async created(){const t=tt["a"].auth().currentUser;t?(await this.setUserData(),this.getCurrentDateTime(),this.getCurrentLocation()):(console.error("User not logged in."),this.$router.push("/home"))},methods:{goBack(){this.$router.push("/home")},async setUserData(){const t=tt["a"].auth().currentUser;if(t){const a=await Ta.collection("registrations").where("email","==",t.email).get();if(a.empty)console.error("User data not found.");else{const t=a.docs[0].data();this.userData=t}}else console.error("User not logged in."),this.$router.push("/login")},getCurrentDateTime(){const t=new Date;this.formattedDate=t.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),this.currentTime=t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},getCurrentLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{const a=t.coords.latitude,e=t.coords.longitude;this.currentLocation=`Latitude: ${a}, Longitude: ${e}`,this.showMap(a,e)},t=>{console.error("Error getting current location:",t)}):console.error("Geolocation is not supported by this browser.")},capturePhoto(){navigator.mediaDevices.getUserMedia({video:!0}).then(t=>{const a=this.$refs.videoElement;a.srcObject=t,a.onloadedmetadata=()=>{a.play()};const e=t.getVideoTracks()[0],r=new ImageCapture(e),i=document.createElement("button");i.textContent="Take Photo",i.id="btn-photo",i.style.cssText="display: inline-block;padding: 10px 20px;border-radius: 20px;background-color: #3f51b5;color: white;text-decoration: none;margin: 10px;",i.addEventListener("click",async()=>{try{const t=await r.takePhoto();this.handleCapturedPhoto(t)}catch(t){console.error("Error capturing photo:",t),V.a.fire({icon:"error",title:"Error",text:"An error occurred while capturing the photo"})}}),a.insertAdjacentElement("afterend",i)}).catch(t=>{console.error("Error accessing camera:",t)})},handleCapturedPhoto(t){const a=URL.createObjectURL(t);this.photoDataUrl=a,this.capturedFileName=`captured_${Date.now()}.jpg`},uploadPhoto(t,a){const e=tt["a"].auth().currentUser,r=La.ref(),i=r.child(`check-out-photos/${e.uid}/${a}`),s={contentType:"image/jpeg"};fetch(t).then(t=>t.blob()).then(t=>{i.put(t,s).then(t=>{t.ref.getDownloadURL().then(t=>{console.log(t)})}).catch(t=>{console.error("Error uploading photo:",t),V.a.fire({icon:"error",title:"Error",text:"An error occurred while uploading the photo"})})}).catch(t=>{console.error("Error converting data URL to blob:",t)})},submitCheckOut(){const t=tt["a"].auth().currentUser;if(t&&this.userData&&this.userData.displayName){const t={displayName:this.userData.displayName,fileName:this.capturedFileName,location:this.currentLocation,timestamp:tt["a"].firestore.Timestamp.now()};Ta.collection("check-outs").add(t).then(()=>{this.photoDataUrl&&this.uploadPhoto(this.photoDataUrl,this.capturedFileName),V.a.fire({icon:"success",title:"Success",text:"Check-out submitted successfully"}).then(()=>{this.goBack()})}).catch(t=>{console.error("Error submitting check-out:",t),V.a.fire({icon:"error",title:"Error",text:"Failed to submit check-out"})})}else console.error("User data is missing or incomplete."),V.a.fire({icon:"error",title:"Error",text:"Failed to submit check-out: User data is missing or incomplete"})},showMap(t,a){const e=this.$refs.mapElement,r=_t.a.map(e).setView([t,a],13);_t.a.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(r),_t.a.marker([t,a]).addTo(r).bindPopup("Lokasi Check Out").openPopup()}}},Nt=Et,St=(e("0307"),Object(o["a"])(Nt,jt,Kt,!1,null,"6d0ee5a8",null)),Ut=St.exports;y()(St,{VAppBar:E["a"],VBtn:N["a"],VCard:S["a"],VCardText:U["c"],VCardTitle:U["d"],VCol:$["a"],VContainer:O["a"],VIcon:dt["a"],VRow:R["a"]});var $t=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:""}},[e("v-app-bar",{staticClass:"indigo",attrs:{app:"",dark:""}},[e("v-card-title",{staticClass:"headline"},[e("v-btn",{attrs:{icon:""},on:{click:t.goBack}},[e("v-icon",[t._v("mdi-arrow-left")])],1),e("img",{staticClass:"logo-small",attrs:{src:"/favicon.ico",alt:"Logo"}}),t._v(" Dovepin Dashboard ")],1),e("v-spacer")],1),e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"4"}},[e("v-card",{staticClass:"menu-card"},[e("v-card-title",{staticClass:"headline"},[t._v("Menu View Karyawan")]),e("v-card-text",[e("p",[t._v("Menu untuk melihat data karyawan")]),e("v-btn",{attrs:{color:"primary"},on:{click:t.goToListKaryawan}},[t._v("Lihat Data Karyawan")])],1)],1)],1),e("v-col",{attrs:{cols:"12",sm:"4"}},[e("v-card",{staticClass:"menu-card"},[e("v-card-title",{staticClass:"headline"},[t._v("Menu View Absen")]),e("v-card-text",[e("p",[t._v("Menu untuk melihat data absen")]),e("v-btn",{attrs:{color:"primary"},on:{click:t.goToListAbsen}},[t._v("Lihat Data Absen")])],1)],1)],1),e("v-col",{attrs:{cols:"12",sm:"4"}},[e("v-card",{staticClass:"menu-card"},[e("v-card-title",{staticClass:"headline"},[t._v("Menu View Cuti")]),e("v-card-text",[e("p",[t._v("Menu untuk melihat data cuti")]),e("v-btn",{attrs:{color:"primary"},on:{click:t.goToListCuti}},[t._v("Lihat Data Cuti")])],1)],1)],1)],1)],1)],1)},Ot=[],At={name:"DashboardView",computed:{...Object(g["b"])(["getUserRole"])},metaInfo(){return{meta:[{name:"requiresAuth",content:!0},{name:"requiredRole",content:"admin"}]}},methods:{checkUserRole(){const t=this.getUserRole();"admin"!==t&&(this.$router.push("/home"),V.a.fire({icon:"warning",title:"Akses Ditolak",text:"Anda tidak memiliki akses ke halaman ini.",confirmButtonText:"OK"}))},goBack(){this.$router.push("/home")},goToListKaryawan(){this.$router.push("/list-karyawan")},goToListAbsen(){this.$router.push("/list-absen")},goToListCuti(){this.$router.push("/list-cuti")}}},Rt=At,Bt=(e("2718"),Object(o["a"])(Rt,$t,Ot,!1,null,"57758235",null)),Pt=Bt.exports;y()(Bt,{VAppBar:E["a"],VBtn:N["a"],VCard:S["a"],VCardText:U["c"],VCardTitle:U["d"],VCol:$["a"],VContainer:O["a"],VIcon:dt["a"],VRow:R["a"],VSpacer:B["a"]});var It=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"mb-5",attrs:{fluid:""}},[e("v-app-bar",{staticClass:"indigo",attrs:{app:"",dark:""}},[e("v-card-title",{staticClass:"headline"},[e("v-btn",{attrs:{icon:""},on:{click:t.goBack}},[e("v-icon",[t._v("mdi-arrow-left")])],1),e("img",{staticClass:"logo-small",attrs:{src:"/favicon.ico",alt:"Logo"}}),t._v(" Dovepin Dashboard ")],1),e("v-spacer")],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-card",[e("v-card-title",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[e("v-text-field",{attrs:{label:"Search","append-icon":"mdi-magnify","single-line":"","hide-details":""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1)],1)],1),e("v-card-text",[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.filteredKaryawanList,"item-key":"id","hide-default-footer":""},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-toolbar",{attrs:{flat:""}},[e("v-toolbar-title",[t._v("Karyawan")]),e("v-spacer"),e("v-btn",{attrs:{color:"primary"},on:{click:t.exportToExcel}},[t._v("Export Excel")])],1)]},proxy:!0},{key:"item.actions",fn:function(a){var r=a.item;return[e("v-icon",{staticClass:"mr-2",on:{click:function(a){return t.editKaryawan(r)}}},[t._v("mdi-pencil")]),e("v-icon",{on:{click:function(a){return t.deleteKaryawan(r)}}},[t._v("mdi-delete")])]}}])})],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogEdit,callback:function(a){t.dialogEdit=a},expression:"dialogEdit"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v(t._s(t.editedKaryawan.displayName))])]),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"Display Name"},model:{value:t.editedKaryawan.displayName,callback:function(a){t.$set(t.editedKaryawan,"displayName",a)},expression:"editedKaryawan.displayName"}})],1),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"Email",disabled:""},model:{value:t.editedKaryawan.email,callback:function(a){t.$set(t.editedKaryawan,"email",a)},expression:"editedKaryawan.email"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"No. Telp"},model:{value:t.editedKaryawan.noTelp,callback:function(a){t.$set(t.editedKaryawan,"noTelp",a)},expression:"editedKaryawan.noTelp"}})],1),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"Tanggal Lahir"},model:{value:t.editedKaryawan.tanggalLahir,callback:function(a){t.$set(t.editedKaryawan,"tanggalLahir",a)},expression:"editedKaryawan.tanggalLahir"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-select",{attrs:{label:"Jenis Kelamin",items:t.jenisKelaminOptions},model:{value:t.editedKaryawan.jenisKelamin,callback:function(a){t.$set(t.editedKaryawan,"jenisKelamin",a)},expression:"editedKaryawan.jenisKelamin"}})],1),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"Alamat"},model:{value:t.editedKaryawan.alamat,callback:function(a){t.$set(t.editedKaryawan,"alamat",a)},expression:"editedKaryawan.alamat"}})],1)],1)],1)],1),e("v-card-actions",[e("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cancelEdit}},[t._v("Batal")]),e("v-btn",{attrs:{color:"primary"},on:{click:t.saveEdit}},[t._v("Simpan")])],1)],1)],1)],1)},Ft=[],Mt=(e("e71f"),e("21a6")),Jt=e("1146"),Ht=e.n(Jt),qt={name:"ListKaryawanView",data(){return{search:"",karyawanList:[],filteredKaryawanList:[],headers:[{text:"Display Name",value:"displayName"},{text:"Email",value:"email"},{text:"No. Telp",value:"noTelp"},{text:"Tanggal Lahir",value:"tanggalLahir"},{text:"Jenis Kelamin",value:"jenisKelamin"},{text:"Alamat",value:"alamat"},{text:"Actions",value:"actions",sortable:!1}],dialogEdit:!1,editedKaryawan:{id:"",displayName:"",email:"",noTelp:"",tanggalLahir:"",jenisKelamin:"",alamat:""},jenisKelaminOptions:["Laki-laki","Perempuan"]}},created(){this.getKaryawanList()},methods:{getKaryawanList(){const t=tt["a"].firestore();t.collection("registrations").get().then(t=>{const a=[];t.forEach(t=>{const e=t.data();e.id=t.id,a.push(e)}),this.karyawanList=a,this.filteredKaryawanList=a}).catch(t=>{V.a.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengambil data karyawan"}),console.error("Error getting karyawan list:",t)})},editKaryawan(t){this.editedKaryawan={...t},this.dialogEdit=!0},cancelEdit(){this.dialogEdit=!1,this.editedKaryawan={id:"",displayName:"",email:"",noTelp:"",tanggalLahir:"",jenisKelamin:"",alamat:""}},saveEdit(){const t=tt["a"].firestore();t.collection("registrations").doc(this.editedKaryawan.id).update(this.editedKaryawan).then(()=>{V.a.fire({icon:"success",title:"Sukses",text:"Karyawan berhasil diperbarui"}),this.dialogEdit=!1,this.getKaryawanList()}).catch(t=>{V.a.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat memperbarui karyawan"}),console.error("Error updating karyawan:",t)})},deleteKaryawan(t){V.a.fire({title:"Konfirmasi",text:"Anda yakin ingin menghapus karyawan ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, hapus",cancelButtonText:"Batal"}).then(a=>{if(a.isConfirmed){const a=tt["a"].firestore();a.collection("registrations").doc(t.id).delete().then(()=>{V.a.fire({icon:"success",title:"Sukses",text:"Karyawan berhasil dihapus"}),this.getKaryawanList()}).catch(t=>{V.a.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat menghapus karyawan"}),console.error("Error deleting karyawan:",t)})}})},exportToExcel(){const t=this.filteredKaryawanList.map(t=>({"Display Name":t.displayName,Email:t.email,"No. Telp":t.noTelp,"Tanggal Lahir":t.tanggalLahir,"Jenis Kelamin":t.jenisKelamin,Alamat:t.alamat})),a=Jt["utils"].json_to_sheet(t),e=Jt["utils"].book_new();Jt["utils"].book_append_sheet(e,a,"Karyawan");const r=Jt["write"](e,{bookType:"xlsx",type:"array",compression:!0}),i=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s="karyawan_data.xlsx";Object(Mt["saveAs"])(i,s)},goBack(){this.$router.go(-1)}},computed:{filteredKaryawanData(){if(this.search){const t=this.search.toLowerCase();return this.karyawanList.filter(a=>a.displayName.toLowerCase().includes(t)||a.email.toLowerCase().includes(t)||a.noTelp.toLowerCase().includes(t)||a.tanggalLahir.toLowerCase().includes(t)||a.jenisKelamin.toLowerCase().includes(t)||a.alamat.toLowerCase().includes(t))}return this.karyawanList}}},zt=qt,Gt=(e("e7a2"),e("8fea")),Wt=e("169a"),Yt=e("71d9"),Zt=Object(o["a"])(zt,It,Ft,!1,null,"17c9222a",null),Qt=Zt.exports;y()(Zt,{VAppBar:E["a"],VBtn:N["a"],VCard:S["a"],VCardActions:U["a"],VCardText:U["c"],VCardTitle:U["d"],VCol:$["a"],VContainer:O["a"],VDataTable:Gt["a"],VDialog:Wt["a"],VIcon:dt["a"],VRow:R["a"],VSelect:it["a"],VSpacer:B["a"],VTextField:W["a"],VToolbar:Yt["a"],VToolbarTitle:P["a"]});var Xt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"mb-5",attrs:{fluid:""}},[e("v-app-bar",{staticClass:"indigo",attrs:{app:"",dark:""}},[e("v-card-title",{staticClass:"headline"},[e("v-btn",{attrs:{icon:""},on:{click:t.goBack}},[e("v-icon",[t._v("mdi-arrow-left")])],1),e("img",{staticClass:"logo-small",attrs:{src:"/favicon.ico",alt:"Logo"}}),t._v(" Dovepin Dashboard ")],1),e("v-spacer")],1),e("v-card",{staticClass:"mb-3"},[e("v-card-title",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{label:"Start Date",readonly:""},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}},"v-text-field",i,!1),r))]}}]),model:{value:t.menu,callback:function(a){t.menu=a},expression:"menu"}},[e("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}},[e("v-spacer"),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(a){t.menu=!1}}},[t._v("Cancel")]),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.applyFilter}},[t._v("OK")])],1)],1)],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{label:"End Date",readonly:""},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}},"v-text-field",i,!1),r))]}}]),model:{value:t.menu2,callback:function(a){t.menu2=a},expression:"menu2"}},[e("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}},[e("v-spacer"),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(a){t.menu2=!1}}},[t._v("Cancel")]),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.applyFilter}},[t._v("OK")])],1)],1)],1),e("v-col",{attrs:{cols:"6",sm:"6",md:"4"}},[e("v-btn",{staticClass:"mb-2 pl-4",attrs:{color:"primary"},on:{click:t.applyFilter}},[t._v("Apply Filter")])],1),e("v-col",{attrs:{cols:"6"}},[e("v-btn",{staticClass:"mb-2",attrs:{color:"",dark:""},on:{click:t.clearFilter}},[t._v("Clear Filter")])],1)],1),e("v-btn",{staticClass:"mb-2",attrs:{color:"green",dark:""},on:{click:t.exportToExcel}},[t._v("Export Excel")])],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-card",[e("v-card-text",[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersMasuk,items:t.filteredAbsenMasuk,"item-key":"id","hide-default-footer":""},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-toolbar",{attrs:{flat:""}},[e("v-toolbar-title",[t._v("Masuk")]),e("v-spacer")],1)]},proxy:!0}])})],1)],1)],1),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-card",[e("v-card-text",[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersKeluar,items:t.filteredAbsenKeluar,"item-key":"id","hide-default-footer":""},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-toolbar",{attrs:{flat:""}},[e("v-toolbar-title",[t._v("Keluar")]),e("v-spacer")],1)]},proxy:!0}])})],1)],1)],1)],1)],1)},ta=[],aa={name:"ListAbsenView",data(){return{startDate:null,endDate:null,menu:!1,menu2:!1,startDate2:null,endDate2:null,menu3:!1,menu4:!1,absenListMasuk:[],absenListKeluar:[],filteredAbsenMasuk:[],filteredAbsenKeluar:[],headersMasuk:[{text:"No",value:"no"},{text:"Nama (displayName)",value:"displayName"},{text:"Masuk",value:"masuk"}],headersKeluar:[{text:"No",value:"no"},{text:"Nama (displayName)",value:"displayName"},{text:"Keluar",value:"keluar"}]}},created(){this.getAbsenList()},methods:{getAbsenList(){const t=tt["a"].firestore(),a=t.collection("check-ins").orderBy("timestamp","desc"),e=t.collection("check-outs").orderBy("timestamp","desc");Promise.all([a.get(),e.get()]).then(t=>{const a=t[0].docs.map((t,a)=>{const e=t.data();return{...e,no:a+1,masuk:e.timestamp.toDate().toLocaleString()}}),e=t[1].docs.map((t,a)=>{const e=t.data();return{...e,no:a+1,keluar:e.timestamp.toDate().toLocaleString()}});this.absenListMasuk=a,this.absenListKeluar=e,this.filteredAbsenMasuk=a,this.filteredAbsenKeluar=e}).catch(t=>{V.a.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengambil data absensi"}),console.error("Error getting absen list:",t)})},exportToExcel(){const t=this.filteredAbsenMasuk.map(t=>({No:t.no,"Nama (Masuk)":t.displayName,Masuk:t.masuk?new Date(t.masuk).toLocaleString():""," ":" ","Nama (Keluar)":"",Keluar:""}));this.filteredAbsenKeluar.forEach((a,e)=>{const r=t[e];r&&(a.keluar?(r.Keluar=new Date(a.keluar).toLocaleString(),r["Nama (Keluar)"]=a.displayName):r.Keluar="")}),console.log(t);const a=Jt["utils"].json_to_sheet(t),e=Jt["utils"].book_new();Jt["utils"].book_append_sheet(e,a,"Absensi");const r=Jt["write"](e,{bookType:"xlsx",type:"array"}),i="absen_data.xlsx",s=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Object(Mt["saveAs"])(s,i)},applyFilter(){if(this.startDate&&this.endDate){const t=this.absenListMasuk.filter(t=>{const a=new Date(this.startDate).setUTCHours(0,0,0,0),e=new Date(this.endDate).setUTCHours(23,59,59,999),r=new Date(t.masuk);return r>=a&&r<=e}),a=this.absenListKeluar.filter(t=>{const a=new Date(this.startDate).setUTCHours(0,0,0,0),e=new Date(this.endDate).setUTCHours(23,59,59,999),r=new Date(t.keluar);return r>=a&&r<=e});this.filteredAbsenMasuk=t,this.filteredAbsenKeluar=a}else this.filteredAbsenMasuk=this.absenListMasuk,this.filteredAbsenKeluar=this.absenListKeluar},clearFilter(){this.startDate=null,this.endDate=null,this.startDate2=null,this.endDate2=null,this.filteredAbsenMasuk=this.absenListMasuk,this.filteredAbsenKeluar=this.absenListKeluar},goBack(){this.$router.push("/dashboard")}}},ea=aa,ra=(e("ac2e"),e("2e4b")),ia=e("e449"),sa=Object(o["a"])(ea,Xt,ta,!1,null,"2353f800",null),oa=sa.exports;y()(sa,{VAppBar:E["a"],VBtn:N["a"],VCard:S["a"],VCardText:U["c"],VCardTitle:U["d"],VCol:$["a"],VContainer:O["a"],VDataTable:Gt["a"],VDatePicker:ra["a"],VIcon:dt["a"],VMenu:ia["a"],VRow:R["a"],VSpacer:B["a"],VTextField:W["a"],VToolbar:Yt["a"],VToolbarTitle:P["a"]});var na=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:""}},[e("v-app-bar",{staticClass:"indigo",attrs:{app:"",dark:""}},[e("v-card-title",{staticClass:"headline"},[e("v-btn",{attrs:{icon:""},on:{click:t.goBack}},[e("v-icon",[t._v("mdi-arrow-left")])],1),e("img",{staticClass:"logo-small",attrs:{src:"/favicon.ico",alt:"Logo"}}),t._v(" Dovepin ")],1),e("v-spacer")],1),e("v-container",{staticClass:"content-container"},[e("v-card",{staticClass:"cuti-history-card"},[e("v-card-title",{staticClass:"headline"},[t._v("History Permohonan Cuti")]),e("v-card-text",[e("v-data-table",{attrs:{headers:t.headers,items:t.cutiList,"hide-default-footer":""},scopedSlots:t._u([{key:"item.no",fn:function(a){var e=a.item;return[t._v(" "+t._s(e.no)+" ")]}},{key:"item.statusCuti",fn:function(a){var r=a.item;return["Menunggu"===r.statusCuti?e("span",{staticClass:"status-menunggu"},[t._v(t._s(r.statusCuti))]):t._e(),"Disetujui"===r.statusCuti?e("span",{staticClass:"status-disetujui"},[t._v(t._s(r.statusCuti))]):t._e(),"Ditolak"===r.statusCuti?e("span",{staticClass:"status-ditolak"},[t._v(t._s(r.statusCuti))]):t._e()]}},{key:"item.action",fn:function(a){var r=a.item;return["Menunggu"===r.statusCuti?e("v-icon",{staticClass:"icon-approve",on:{click:function(a){return t.updateStatusCuti(r.id,"Disetujui")}}},[t._v(" mdi-check-circle-outline ")]):t._e(),"Menunggu"===r.statusCuti?e("v-icon",{staticClass:"icon-reject",on:{click:function(a){return t.updateStatusCuti(r.id,"Ditolak")}}},[t._v(" mdi-close-circle-outline ")]):t._e()]}}])})],1)],1)],1)],1)},la=[],ca={name:"ListCutiView",data(){return{cutiList:[],headers:[{text:"No",value:"no"},{text:"Nama (displayName)",value:"displayName"},{text:"Jenis Kelamin",value:"jenisKelamin"},{text:"Jabatan",value:"jabatan"},{text:"Tanggal Cuti",value:"tanggalCuti"},{text:"Lama Cuti (hari)",value:"lamaCuti"},{text:"Keterangan",value:"keterangan"},{text:"Status Cuti",value:"statusCuti"},{text:"Action",value:"action"}]}},created(){const t=tt["a"].auth().currentUser;t?this.getCutiList():(console.error("User not logged in."),this.$router.push("/home"))},methods:{getCutiList(){Ta.collection("cutis").orderBy("tanggalCuti","desc").get().then(t=>{const a=[];let e=1;t.forEach(t=>{const r=t.data();r.no=e++,a.push({id:t.id,...r})}),this.cutiList=a}).catch(t=>{console.error("Error getting cuti list:",t),V.a.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengambil data cuti"})})},updateStatusCuti(t,a){Ta.collection("cutis").doc(t).update({statusCuti:a}).then(()=>{V.a.fire({icon:"success",title:"Sukses",text:"Status Cuti Berhasil Diperbarui"}),this.getCutiList()}).catch(t=>{console.error("Error updating status cuti:",t),V.a.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat memperbarui status cuti"})})},goBack(){this.$router.push("/dashboard")}}},ua=ca,da=(e("ec88"),Object(o["a"])(ua,na,la,!1,null,"6b138f6e",null)),ma=da.exports;y()(da,{VAppBar:E["a"],VBtn:N["a"],VCard:S["a"],VCardText:U["c"],VCardTitle:U["d"],VContainer:O["a"],VDataTable:Gt["a"],VIcon:dt["a"],VSpacer:B["a"]}),delete _t.a.Icon.Default.prototype._getIconUrl,_t.a.Icon.Default.mergeOptions({iconRetinaUrl:e("584d"),iconUrl:e("6397"),shadowUrl:e("e2b9")}),r["a"].use(p["a"]);const pa=[{path:"/",component:_,children:[{path:"",redirect:"/login"},{path:"/login",component:Z},{path:"/register",component:ot},{path:"/home",component:F},{path:"/dashboard",component:Pt,meta:{userRole:"admin"}},{path:"/list-karyawan",component:Qt},{path:"/list-absen",component:oa},{path:"/list-cuti",component:ma},{path:"/karyawan",component:pt},{path:"/cuti",component:yt},{path:"/checkin",component:Vt},{path:"/checkout",component:Ut}]}],ha=new p["a"]({routes:pa});ha.beforeEach((t,a,e)=>{const r=localStorage.getItem("isLoggedIn"),i=localStorage.getItem("userRole");t.matched.some(t=>t.meta.requiresAuth)?r?"admin"!==i?e("/home"):e():e("/login"):e()});var va=ha;e("b7ef");const ga={namespaced:!0,state:{identity:null,titleHierarchy:null},getters:{identity:t=>t.identity,titleHierarchy:t=>t.titleHierarchy},mutations:{identity:(t,a)=>t.identity=a,titleHierarchy:(t,a)=>t.titleHierarchy=a}};var fa=ga;const ba={namespaced:!0,state:{purchaseOrder:{},goodsReceipt:{},issueToProduction:{},receiptFromProduction:{},salesOrder:{},deliveryOrder:{},stockAdjustment:{},stockTransfer:{},manualIssue:{},manualReceipt:{}},getters:{purchaseOrder:t=>t.purchaseOrder,goodsReceipt:t=>t.goodsReceipt,issueToProduction:t=>t.issueToProduction,receiptFromProduction:t=>t.receiptFromProduction,salesOrder:t=>t.salesOrder,deliveryOrder:t=>t.deliveryOrder,stockAdjustment:t=>t.stockAdjustment,stockTransfer:t=>t.stockTransfer,manualIssue:t=>t.manualIssue,manualReceipt:t=>t.manualReceipt},mutations:{purchaseOrder:(t,a)=>t.purchaseOrder=a,goodsReceipt:(t,a)=>t.goodsReceipt=a,issueToProduction:(t,a)=>t.issueToProduction=a,receiptFromProduction:(t,a)=>t.receiptFromProduction=a,salesOrder:(t,a)=>t.salesOrder=a,deliveryOrder:(t,a)=>t.deliveryOrder=a,stockAdjustment:(t,a)=>t.stockAdjustment=a,stockTransfer:(t,a)=>t.stockTransfer=a,manualIssue:(t,a)=>t.manualIssue=a,manualReceipt:(t,a)=>t.manualReceipt=a}};var ka=ba;r["a"].use(g["a"]);const ya=new g["a"].Store({modules:{auth:{namespaced:!0,...fa,state:{userRole:""},mutations:{setUserRole(t,a){t.userRole=a}},getters:{getUserRole:t=>t.userRole}},filter:ka}});var wa=ya,Ca={methods:{vuexFromStorage(t,a){var e;wa.commit(`${t}/${a}`,null!==(e=this.storageLoad(`${t}-${a}`))&&void 0!==e?e:"")},getErrorMessage(t){var a,e,r,i;return null!==t&&void 0!==t&&null!==(a=t.response)&&void 0!==a&&null!==(e=a.data)&&void 0!==e&&e.message?null===t||void 0===t||null===(r=t.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message:null!==t&&void 0!==t&&t.message?null===t||void 0===t?void 0:t.message:t},getErrorStatusCode(t){var a,e;return null!==t&&void 0!==t&&null!==(a=t.response)&&void 0!==a&&a.status?null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.status:"999"},showErrorMessage(t){this.$root.snackbar.showError(t)},today(){return(new Date).toISOString().slice(0,10)},round(t,a=2){return isNaN(t)||isNaN(a)?"":parseFloat(t.toFixed(a))},formatDate(t){return t?(t=new Date(t),t.toLocaleDateString("id-ID")):""},formatNumber(t){return isNaN(t)?"0":t?Number(t).toLocaleString("id-ID"):"0"},parseDate(t){return t.substring(0,10)},parseNumber(t){return isNaN(t)?0:t?Number(t):0},encryptString(t){if(!t)return"";const a=btoa(unescape(encodeURIComponent(t))),e=a.split("").reverse().join(""),r=btoa(e);return r},decryptString(t){if(!t)return"";const a=decodeURIComponent(escape(atob(t))),e=a.split("").reverse().join(""),r=atob(e);return r},storageSave(t,a,e){const r=JSON.stringify(e),i=this.encryptString(r),s=this.encryptString(`${t}-${a}`);localStorage.setItem(s,i)},storageLoad(t){try{const a=this.encryptString(t),e=localStorage.getItem(a),r=this.decryptString(e);return JSON.parse(r)}catch{return null}},storageRemove(t){const a=this.encryptString(t);localStorage.removeItem(a)},sessionSave(t,a){const e=JSON.stringify(a);sessionStorage.setItem(t,e)},sessionLoad(t){try{const a=sessionStorage.getItem(t);return JSON.parse(a)}catch{return null}},sessionRemove(t){sessionStorage.removeItem(t)},downloadExcel(t,a){if(t){const e=Ht.a.utils.json_to_sheet(t),r=Ht.a.utils.book_new();Ht.a.utils.book_append_sheet(r,e,"Data"),Ht.a.writeFile(r,a)}},downloadFile(t,a){const e=document.createElement("a");e.href=t,e.setAttribute("download",a),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e)},downloadBlob(t,a){const e=document.createElement("a"),r=URL.createObjectURL(new Blob([t]));e.setAttribute("href",r),e.setAttribute("download",a),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e)},createRecord(t,a){t.push(a)},updateRecord(t,a){let e=t.filter(t=>t.id===a.id)[0];const r=t.indexOf(e);t.splice(r,1,a)},deleteRecord(t,a){const e=t.filter(t=>t.id===a)[0],r=t.indexOf(e);t.splice(r,1)},toast(t,a){a||(a="default"),this.$toast.open({message:t,type:a,duration:5e3,dismissible:!0})}}},xa=e("b079"),_a=e.n(xa);e("4238"),e("588e");r["a"].use(_a.a),r["a"].use(u["a"]),r["a"].config.productionTip=!1;const Da={apiKey:"AIzaSyAdqS6loC6Ry3USA2q8ji8vlmunm85tZt0",authDomain:"dovepin-project-5faf2.firebaseapp.com",projectId:"dovepin-project-5faf2",storageBucket:"dovepin-project-5faf2.appspot.com",messagingSenderId:"740700379866",appId:"1:740700379866:web:36faa076b5487512b0a3e3"};H["a"].initializeApp(Da);const Ta=H["a"].firestore(),La=H["a"].storage();r["a"].mixin(Ca),new r["a"]({router:va,vuetify:m,store:wa,render:t=>t(c)}).$mount("#app")},"60ce":function(t,a,e){},"951e":function(t,a,e){"use strict";e("2a08")},"9d80":function(t,a,e){},ac2e:function(t,a,e){"use strict";e("3d9b")},b044:function(t,a,e){"use strict";e("27b0")},b573:function(t,a,e){"use strict";e("1188")},d063:function(t,a,e){},df51:function(t,a,e){},e31f:function(t,a,e){},e7a2:function(t,a,e){"use strict";e("1fe7")},ec88:function(t,a,e){"use strict";e("9d80")},f5e0:function(t,a,e){}});
//# sourceMappingURL=app.11253980.js.map